---
import { Icon } from "astro-icon/components";
import { buildUrl } from "@/utils/routesHelper";

interface Props {
  href: string;
  class?: string;
}

const { href, class: className = "" } = Astro.props;
const isExternal = href.startsWith("http");
const url = buildUrl(href);
---

<a
  href={url}
  class={`kern-link text-link ${className}`}
  {...isExternal ? { target: "_blank", rel: "noopener noreferrer" } : {}}
  ><slot />{
    isExternal && (
      <Icon
        name="ic:twotone-open-in-new"
        class="mb-1 ml-2 inline no-underline"
      />
    )
  }</a
>
